<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracker de Recursos - Phandalin</title>
    <style>
        :root {
            --color-dark: #3c2c23;
            --color-medium: #8b5a2b;
            --color-light: #d9b38c;
            --color-highlight: #ffcc80;
            --color-prosperity: #4caf50;
            --color-security: #f44336;
            --color-population: #2196f3;
            --color-gold: #ffd700;
        }
        
        body {
            font-family: 'Times New Roman', serif;
            background-color: #f5eee6;
            color: var(--color-dark);
            margin: 0;
            padding: 20px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="none" stroke="%238b5a2b33" stroke-width="2" x="10" y="10" width="80" height="80"/></svg>');
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: rgba(255, 253, 248, 0.9);
            padding: 20px;
            border: 3px solid var(--color-medium);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--color-medium);
            padding-bottom: 15px;
        }
        
        h1 {
            color: var(--color-dark);
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            font-style: italic;
            color: var(--color-medium);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(to bottom right, var(--color-light), #e9d6bd);
            border: 2px solid var(--color-medium);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.1);
        }
        
        .stat-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
            color: var(--color-dark);
            border-bottom: 1px solid var(--color-medium);
            padding-bottom: 5px;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-input {
            width: 80px;
            text-align: center;
            font-size: 1.2em;
            padding: 5px;
            border: 1px solid var(--color-medium);
            border-radius: 4px;
        }
        
        .stat-slider {
            width: 80%;
            margin: 10px 0;
        }
        
        .prosperity { color: var(--color-prosperity); }
        .security { color: var(--color-security); }
        .population { color: var(--color-population); }
        .gold { color: var(--color-gold); }
        
        .classes-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
        }
        
        .classes-table th, .classes-table td {
            border: 1px solid var(--color-medium);
            padding: 10px;
            text-align: center;
        }
        
        .classes-table th {
            background-color: var(--color-medium);
            color: white;
        }
        
        .classes-table tr:nth-child(even) {
            background-color: var(--color-light);
        }
        
        .notes-section {
            margin-top: 30px;
        }
        
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 1px solid var(--color-medium);
            border-radius: 4px;
            background-color: #fffdf8;
            font-family: inherit;
        }
        
        .comparison {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 0.9em;
            color: var(--color-medium);
        }
        
        @media (max-width: 600px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Tracker de Recursos - Phandalin</h1>
            <p class="subtitle">Módulo: Phandalin and Below</p>
        </header>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-title">População</div>
                <div class="stat-value population" id="population-value">80</div>
                <input type="number" class="stat-input" id="population-input" min="0" max="125000" value="80">
                <input type="range" class="stat-slider" id="population-slider" min="0" max="125000" value="80" step="10">
                <div>0 (Vila Arruinada) — 125.000 (Cidade Próspera)</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-title">Prosperidade</div>
                <div class="stat-value prosperity" id="prosperity-value">25</div>
                <input type="range" class="stat-slider" id="prosperity-slider" min="0" max="100" value="25">
                <div>0 (Colapso Total) — 100 (Máxima Prosperidade)</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-title">Segurança</div>
                <div class="stat-value security" id="security-value">30</div>
                <input type="range" class="stat-slider" id="security-slider" min="0" max="100" value="30">
                <div>0 (Anarquia) — 100 (Totalmente Segura)</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-title">Tesouro (GP)</div>
                <div class="stat-value gold" id="gold-value">500</div>
                <input type="number" class="stat-input" id="gold-input" min="0" value="500">
            </div>
        </div>
        
        <h2>Distribuição de Classes Sociais</h2>
        <table class="classes-table">
            <thead>
                <tr>
                    <th>Classe Social</th>
                    <th>% da População</th>
                    <th>Quantidade</th>
                    <th>Renda Mínima/Mês</th>
                    <th>Estilo de Vida/Mês</th>
                    <th>Manutenção/Mês</th>
                    <th>Impostos/Mês</th>
                    <th>Lucro/Mês</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Pobre</td>
                    <td><input type="number" class="percent-input" id="poor-percent" min="0" max="100" value="60">%</td>
                    <td id="poor-count">48</td>
                    <td>6 gp</td>
                    <td>3 gp</td>
                    <td>2 gp</td>
                    <td>0.6 gp</td>
                    <td>0.4 gp</td>
                </tr>
                <tr>
                    <td>Modesta</td>
                    <td><input type="number" class="percent-input" id="modest-percent" min="0" max="100" value="30">%</td>
                    <td id="modest-count">24</td>
                    <td>30 gp</td>
                    <td>15 gp</td>
                    <td>10 gp</td>
                    <td>3 gp</td>
                    <td>2 gp</td>
                </tr>
                <tr>
                    <td>Confortável</td>
                    <td><input type="number" class="percent-input" id="comfortable-percent" min="0" max="100" value="8">%</td>
                    <td id="comfortable-count">6</td>
                    <td>60 gp</td>
                    <td>30 gp</td>
                    <td>20 gp</td>
                    <td>6 gp</td>
                    <td>4 gp</td>
                </tr>
                <tr>
                    <td>Rica</td>
                    <td><input type="number" class="percent-input" id="wealthy-percent" min="0" max="100" value="2">%</td>
                    <td id="wealthy-count">2</td>
                    <td>120 gp</td>
                    <td>60 gp</td>
                    <td>40 gp</td>
                    <td>12 gp</td>
                    <td>8 gp</td>
                </tr>
                <tr>
                    <td>Aristocrática</td>
                    <td><input type="number" class="percent-input" id="aristocratic-percent" min="0" max="100" value="0">%</td>
                    <td id="aristocratic-count">0</td>
                    <td>300 gp</td>
                    <td>150 gp</td>
                    <td>100 gp</td>
                    <td>30 gp</td>
                    <td>20 gp</td>
                </tr>
            </tbody>
        </table>
        
        <div class="comparison">
            <div>Phandalin Atual: 80 habitantes</div>
            <div>Cidade Próspera: 125.000 habitantes</div>
        </div>
        
        <div class="notes-section">
            <h2>Anotações e Eventos</h2>
            <textarea id="notes" placeholder="Registre aqui eventos importantes, mudanças na vila, ameaças, etc."></textarea>
        </div>
    </div>

    <script>
        // Elementos do DOM
        const populationInput = document.getElementById('population-input');
        const populationSlider = document.getElementById('population-slider');
        const populationValue = document.getElementById('population-value');
        const prosperitySlider = document.getElementById('prosperity-slider');
        const prosperityValue = document.getElementById('prosperity-value');
        const securitySlider = document.getElementById('security-slider');
        const securityValue = document.getElementById('security-value');
        const goldInput = document.getElementById('gold-input');
        const goldValue = document.getElementById('gold-value');
        
        const percentInputs = [
            document.getElementById('poor-percent'),
            document.getElementById('modest-percent'),
            document.getElementById('comfortable-percent'),
            document.getElementById('wealthy-percent'),
            document.getElementById('aristocratic-percent')
        ];
        
        const countElements = [
            document.getElementById('poor-count'),
            document.getElementById('modest-count'),
            document.getElementById('comfortable-count'),
            document.getElementById('wealthy-count'),
            document.getElementById('aristocratic-count')
        ];
        
        // Sincronizar inputs de população
        populationInput.addEventListener('input', function() {
            populationSlider.value = this.value;
            populationValue.textContent = this.value;
            updatePopulationCounts();
        });
        
        populationSlider.addEventListener('input', function() {
            populationInput.value = this.value;
            populationValue.textContent = this.value;
            updatePopulationCounts();
        });
        
        // Atualizar sliders de prosperidade e segurança
        prosperitySlider.addEventListener('input', function() {
            prosperityValue.textContent = this.value;
        });
        
        securitySlider.addEventListener('input', function() {
            securityValue.textContent = this.value;
        });
        
        // Sincronizar input de ouro
        goldInput.addEventListener('input', function() {
            goldValue.textContent = this.value;
        });
        
        // Atualizar contagens de população por classe
        function updatePopulationCounts() {
            const totalPopulation = parseInt(populationInput.value);
            let totalPercent = 0;
            
            // Calcular percentual total
            for (const input of percentInputs) {
                totalPercent += parseInt(input.value || 0);
            }
            
            // Ajustar se total não for 100%
            if (totalPercent !== 100) {
                // Para simplificar, não faremos ajuste automático
                console.log("Atenção: a soma dos percentuais não é 100%");
            }
            
            // Atualizar contagens
            for (let i = 0; i < percentInputs.length; i++) {
                const percent = parseInt(percentInputs[i].value || 0);
                const count = Math.round(totalPopulation * percent / 100);
                countElements[i].textContent = count;
            }
        }
        
        // Adicionar listeners para os inputs de percentual
        for (const input of percentInputs) {
            input.addEventListener('input', updatePopulationCounts);
        }
        
        // Inicializar
        updatePopulationCounts();
    </script>
</body>
</html>